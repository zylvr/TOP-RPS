<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }

        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }

        function getComputerChoice() {
            switch (getRandomInt(3)) {
                case 0: return "Rock"; break;
                case 1: return "Paper"; break;
                case 2: return "Scissors"; break;
            }
        }

        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            computerSelection = computerSelection.toLowerCase();

            if (playerSelection == computerSelection) {
                return "draw";
            } else {
                switch (playerSelection) {
                    case "rock":
                        switch (computerSelection) {
                            case "scissors": return "win"; break;
                            case "paper": return "loss"; break;
                        }
                        break;
                        
                    case "paper":
                        switch (computerSelection) {
                            case "rock": return "win"; break;
                            case "scissors": return "loss"; break;
                        }
                        break;
                        
                    case "scissors":
                        switch (computerSelection) {
                            case "paper": return "win"; break;
                            case "rock": return "loss"; break;
                        }
                        break;
                }
            }
        }

        function playGame() {
            let drawCounter = 0;
            let winCounter = 0;
            let lossCounter = 0;

            for (let i = 0; i < 5; i++) { // play 5 rounds
                let playerSelection;

                while (true) {
                    playerSelection = prompt("Rock, Paper, or Scissors?");
                    playerSelection = playerSelection.toLowerCase();
                    if (playerSelection == "rock" || playerSelection == "paper" || playerSelection == "scissors") {
                        break;
                    }
                    alert("Only the values rock, paper, or scissors are allowed.");
                }
                
                let computerSelection = getComputerChoice();

                switch (playRound(playerSelection, computerSelection)) {
                    case "draw":
                        console.log("It's a draw!");
                        drawCounter++;
                        break;
                    case "win":
                        console.log(`You Won! ${capitalizeFirstLetter(playerSelection)} beats ${capitalizeFirstLetter(computerSelection)}`);
                        winCounter++;
                        break;
                    case "loss":
                        console.log(`You Lost! ${capitalizeFirstLetter(computerSelection)} beats ${capitalizeFirstLetter(playerSelection)}`);
                        lossCounter++;
                        break;
                }
            }

            let outcomeBreakdown = `You had ${winCounter} wins, ${lossCounter} losses, and ${drawCounter} draws.`;

            if (winCounter > lossCounter) {
                console.log(`Congratulations! You Won! ${outcomeBreakdown}`);
            } else if (lossCounter > winCounter) {
                console.log(`You Lost :(. ${outcomeBreakdown}`);
            } else if (winCounter == lossCounter) {
                console.log(`No winners here.. ${outcomeBreakdown}`);
            }
        }
    </script>
</body>
</html>